extends ../layout

block content
  h1 Login

  //- Overlay flash message (absolute, dismissible)
  if error && error.length
    .flash-overlay(style='position:fixed;top:30px;left:0;right:0;z-index:1050;display:flex;justify-content:center;pointer-events:none;')
      .alert.alert-danger.alert-dismissible.fade.show(role='alert' style='min-width:300px;max-width:500px;pointer-events:auto;box-shadow:0 2px 8px rgba(0,0,0,0.15);position:relative;text-align:center;')
        button.close(type='button', aria-label='Close', onclick='this.parentElement.style.display="none";' style='position:absolute;top:8px;right:12px;background:none;border:none;font-size:2rem;line-height:1;color:#0003;opacity:0.5;transition:opacity 0.2s;cursor:pointer;')
          span(aria-hidden='true' style='pointer-events:none;') &times;
        span(style='display:block;') #{error[0]}
        script.
          document.querySelectorAll('.alert .close').forEach(btn => {
            btn.onmouseover = () => btn.style.opacity = '0.8';
            btn.onmouseout = () => btn.style.opacity = '0.5';
          });
  if success && success.length
    .flash-overlay(style='position:fixed;top:30px;left:0;right:0;z-index:1050;display:flex;justify-content:center;pointer-events:none;')
      .alert.alert-success.alert-dismissible.fade.show(role='alert' style='min-width:300px;max-width:500px;pointer-events:auto;box-shadow:0 2px 8px rgba(0,0,0,0.15);position:relative;text-align:center;')
        button.close(type='button', aria-label='Close', onclick='this.parentElement.style.display="none";' style='position:absolute;top:8px;right:12px;background:none;border:none;font-size:2rem;line-height:1;color:#0003;opacity:0.5;transition:opacity 0.2s;cursor:pointer;')
          span(aria-hidden='true' style='pointer-events:none;') &times;
        span(style='display:block;') #{success[0]}
        script.
          document.querySelectorAll('.alert .close').forEach(btn => {
            btn.onmouseover = () => btn.style.opacity = '0.8';
            btn.onmouseout = () => btn.style.opacity = '0.5';
          });

  form(action='/session', method='post' style='margin-top:80px;')
    div
      label(for='email') Email:
      input(type='email', name='email', required)
    div
      label(for='password') Password:
      input(type='password', name='password', required)
    button(type='submit') Login