html(lang= currentLang)
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title= appName
    link(href="/app.css" rel="stylesheet")
  body
    .main-content
      .container
        header.d-flex.flex-wrap.align-items-center.justify-content-center.justify-content-md-between.py-3.mb-4.border-bottom
          a.d-flex.align-items-center.col-md-3.mb-2.mb-md-0.text-dark.text-decoration-none(href="/")
            span.fs-4 Task Manager
          ul.nav.col-12.col-md-auto.mb-2.justify-content-center.mb-md-0
            li
              a.nav-link.px-2.link-secondary(href="/")= t('layouts.application.home')
            li
              a.nav-link.px-2.link-dark(href="/users")= t('layouts.application.users')
            li
              a.nav-link.px-2.link-dark(href="/statuses")= t('layouts.application.statuses')
            li
              a.nav-link.px-2.link-dark(href="/tasks")= t('layouts.application.tasks')
            li
              a.nav-link.px-2.link-dark.me-4(href="/labels")= t('layouts.application.labels')
            if !isAuthenticated
              a.btn.btn-outline-primary.me-2(href="/session/new")= t('layouts.application.signIn')
              a.btn.btn-primary(href="/users/new")= t('layouts.application.signUp')
            else
              form.d-inline(method="POST", action="/session/logout")
                button.btn.btn-light(type="submit")= t('layouts.application.signOut')
        // Show global flash messages
        if typeof layoutError !== 'undefined' && layoutError.length
          each msg in layoutError
            div.alert.alert-danger.mt-3= msg
        if typeof layoutSuccess !== 'undefined' && layoutSuccess.length
          each msg in layoutSuccess
            div.alert.alert-success.mt-3(style='background: #e3f2fd; color: #1976d2; border: 1px solid #90caf9;')= msg
        block content